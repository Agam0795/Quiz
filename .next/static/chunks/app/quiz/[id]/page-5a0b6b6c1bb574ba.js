(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[200],{21111:(e,t,s)=>{"use strict";s.d(t,{QuizPlayer:()=>A});var n=s(95155),a=s(12115),l=s(66695),r=s(30356),i=s(85057),o=s(30285),c=s(55863),d=s(59434);let x=a.forwardRef((e,t)=>{let{className:s,value:a,...l}=e;return(0,n.jsx)(c.bL,{ref:t,className:(0,d.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...l,children:(0,n.jsx)(c.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});x.displayName=c.bL.displayName;var f=s(91467),m=s(58127),u=s(24371),h=s(15300),p=s(59099),y=s(50172),w=s(60620),j=s(12543),N=s(19968),g=s(6874),v=s.n(g),b=s(56104),C=s(93004),k=s(34477);let q=(0,k.createServerReference)("4054a25beda923615bc248d47ac9edce95db06b280",k.callServer,void 0,k.findSourceMapURL,"textToSpeech");var z=s(87481);function A(e){var t;let{quiz:s}=e,[c,d]=(0,a.useState)(0),[g,k]=(0,a.useState)(Array(s.questions.length).fill(null)),[A,R]=(0,a.useState)(!1),[I,S]=(0,a.useState)(s.timeLimit),[L,T]=(0,a.useState)(null),[P,B]=(0,a.useState)(!1),[D,E]=(0,a.useState)(null),$=(0,a.useRef)(null),{toast:Q}=(0,z.dj)();(0,a.useEffect)(()=>{let e=(0,C.hg)(b.j2,e=>{T(e)});return()=>e()},[]);let Z=s.questions[c],_=(c+1)/s.questions.length*100,F=(0,a.useCallback)(()=>{R(!0)},[]);(0,a.useEffect)(()=>{if(!s.timeLimit||A)return;let e=setInterval(()=>{S(t=>void 0===t||t<=1?(clearInterval(e),F(),0):t-1)},1e3);return()=>clearInterval(e)},[A,s.timeLimit,F]);let U=g.reduce((e,t,n)=>t===s.questions[n].correctAnswerIndex?e+1:e,0),W=async()=>{if(Z.questionText){B(!0),E(null);try{let e=await q(Z.questionText);E(e.audioDataUri)}catch(e){console.error("Text-to-speech error:",e),Q({variant:"destructive",title:"Audio Error",description:"Failed to generate audio for the question. Please try again."})}finally{B(!1)}}};return((0,a.useEffect)(()=>{D&&$.current&&$.current.play().catch(e=>console.error("Audio playback failed:",e))},[D]),A)?(0,n.jsxs)(l.Zp,{className:"max-w-2xl mx-auto",children:[(0,n.jsxs)(l.aR,{className:"items-center",children:[(0,n.jsx)(f.A,{className:"h-16 w-16 text-accent mb-4"}),(0,n.jsx)(l.ZB,{className:"text-3xl font-bold font-headline",children:"Quiz Completed!"}),(0,n.jsx)(l.BT,{children:"You've finished the quiz. Here are your results."})]}),(0,n.jsxs)(l.Wu,{className:"text-center space-y-4",children:[(0,n.jsxs)("p",{className:"text-4xl font-bold",children:["You scored ",U," out of ",s.questions.length]}),(0,n.jsx)("div",{className:"space-y-4",children:s.questions.map((e,t)=>(0,n.jsxs)("div",{className:"p-3 border rounded-md text-left",children:[(0,n.jsxs)("p",{className:"font-semibold",children:[t+1,". ",e.questionText]}),(0,n.jsxs)("p",{className:"flex items-center mt-2 ".concat(g[t]===e.correctAnswerIndex?"text-green-600":"text-red-600"),children:[g[t]===e.correctAnswerIndex?(0,n.jsx)(m.A,{className:"h-4 w-4 mr-2"}):(0,n.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Your answer: ",null!==g[t]?e.options[g[t]].text:"Not answered"]}),g[t]!==e.correctAnswerIndex&&(0,n.jsxs)("p",{className:"flex items-center mt-1 text-green-600",children:[(0,n.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Correct answer: ",e.options[e.correctAnswerIndex].text]})]},"".concat(s.id,"-q-").concat(t)))})]}),(0,n.jsx)(l.wL,{className:"flex-col gap-4",children:(0,n.jsxs)("div",{className:"flex flex-wrap justify-center gap-4",children:[(0,n.jsx)(o.$,{onClick:()=>{R(!1),k(Array(s.questions.length).fill(null)),d(0),S(s.timeLimit),E(null)},children:"Retake Quiz"}),(0,n.jsx)(o.$,{variant:"outline",asChild:!0,children:(0,n.jsx)(v(),{href:"/dashboard",children:"Back to Dashboard"})}),(0,n.jsxs)(o.$,{variant:"secondary",onClick:()=>{var e;let t=null!=(e=null==L?void 0:L.displayName)?e:"Anonymous Taker",n=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),a="hsl(207, 70%, 53%)",l="hsl(240, 10%, 3.9%)",r="hsl(240, 3.8%, 46.1%)",i="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent('\n<svg xmlns="http://www.w3.org/2000/svg" width="800" height="600" viewBox="0 0 800 600" style="background-color: #ffffff;">\n    <defs>\n        <style type="text/css">\n            @import url(\'https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Poppins:wght@500;700&family=Caveat:wght@700&display=swap\');\n        </style>\n    </defs>\n    <rect x="20" y="20" width="760" height="560" fill="none" stroke="'.concat(a,'" stroke-width="8" rx="10" />\n    <rect x="30" y="30" width="740" height="540" fill="none" stroke="').concat("hsl(45, 87%, 50%)",'" stroke-width="2" rx="5" />\n    \n    <text x="400" y="100" text-anchor="middle" style="font-family: \'Poppins\', sans-serif; font-size: 32px; font-weight: 700; fill: ').concat(l,';">Certificate of Completion</text>\n    \n    <text x="400" y="160" text-anchor="middle" style="font-family: \'Inter\', sans-serif; font-size: 18px; fill: ').concat(r,';">This certificate is proudly presented to</text>\n    \n    <text x="400" y="240" text-anchor="middle" style="font-family: \'Inter\', sans-serif; font-size: 48px; font-weight: 700; fill: ').concat(a,';">').concat(t,'</text>\n    \n    <text x="400" y="300" text-anchor="middle" style="font-family: \'Inter\', sans-serif; font-size: 18px; fill: ').concat(r,';">for successfully completing the quiz</text>\n    \n    <text x="400" y="350" text-anchor="middle" style="font-family: \'Poppins\', sans-serif; font-size: 24px; font-weight: 500; fill: ').concat(l,';">"').concat(s.title,'"</text>\n    \n    <text x="400" y="420" text-anchor="middle" style="font-family: \'Inter\', sans-serif; font-size: 18px; fill: ').concat(r,';">with a score of</text>\n    <text x="400" y="450" text-anchor="middle" style="font-family: \'Poppins\', sans-serif; font-size: 22px; font-weight: 700; fill: ').concat(l,';">').concat(U," out of ").concat(s.questions.length,'</text>\n    \n    <text x="250" y="500" text-anchor="middle" style="font-family: \'Inter\', sans-serif; font-size: 16px; font-weight: 500; fill: ').concat(l,';">').concat(n,'</text>\n    <line x1="150" y1="520" x2="350" y2="520" stroke="').concat(r,'" stroke-width="1"/>\n    <text x="250" y="540" text-anchor="middle" style="font-family: \'Inter\', sans-serif; font-size: 14px; fill: ').concat(r,';">Date</text>\n    \n    <text x="550" y="505" text-anchor="middle" style="font-family: \'Caveat\', cursive; font-size: 36px; fill: ').concat(l,';">QuizWiz</text>\n    <line x1="450" y1="520" x2="650" y2="520" stroke="').concat(r,'" stroke-width="1"/>\n    <text x="550" y="540" text-anchor="middle" style="font-family: \'Inter\', sans-serif; font-size: 14px; fill: ').concat(r,';">Signature</text>\n</svg>\n    '))));window.open(i)},disabled:!L,children:[(0,n.jsx)(h.A,{className:"mr-2 h-4 w-4"})," Download Certificate"]})]})})]}):(0,n.jsxs)(l.Zp,{className:"max-w-2xl mx-auto",children:[(0,n.jsxs)(l.aR,{children:[(0,n.jsxs)("div",{className:"flex justify-between items-center gap-4 mb-4",children:[(0,n.jsx)(x,{value:_,className:"w-full"}),s.timeLimit&&void 0!==I&&(0,n.jsxs)("div",{className:"flex items-center text-sm font-semibold text-muted-foreground shrink-0",children:[(0,n.jsx)(p.A,{className:"h-4 w-4 mr-1.5"}),(0,n.jsx)("span",{children:(e=>{let t=Math.floor(e/60),s=e%60;return"".concat(t,":").concat(s<10?"0":"").concat(s)})(I)})]})]}),(0,n.jsx)(l.ZB,{className:"text-2xl font-bold font-headline",children:s.title}),(0,n.jsxs)(l.BT,{children:["Question ",c+1," of ",s.questions.length]})]}),(0,n.jsxs)(l.Wu,{children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold",children:Z.questionText}),(0,n.jsxs)(o.$,{variant:"ghost",size:"icon",onClick:W,disabled:P,children:[P?(0,n.jsx)(y.A,{className:"h-5 w-5 animate-spin"}):(0,n.jsx)(w.A,{className:"h-5 w-5"}),(0,n.jsx)("span",{className:"sr-only",children:"Read question aloud"})]})]}),D&&(0,n.jsx)("audio",{ref:$,src:D,hidden:!0}),(0,n.jsx)(r.z,{value:null==(t=g[c])?void 0:t.toString(),onValueChange:e=>{let t=[...g];t[c]=parseInt(e,10),k(t)},className:"space-y-2",children:Z.options.map((e,t)=>{let a="".concat(s.id,"-q-").concat(c,"-o-").concat(t);return(0,n.jsxs)(i.J,{htmlFor:a,className:"flex items-center p-4 border rounded-md cursor-pointer hover:bg-accent/20 has-[[data-state=checked]]:bg-accent/40",children:[(0,n.jsx)(r.C,{value:t.toString(),id:a,className:"mr-4"}),e.text]},a)})})]}),(0,n.jsxs)(l.wL,{className:"flex justify-between",children:[(0,n.jsxs)(o.$,{variant:"outline",onClick:()=>{c>0&&(d(c-1),E(null))},disabled:0===c,children:[(0,n.jsx)(j.A,{className:"mr-2 h-4 w-4"})," Previous"]}),c===s.questions.length-1?(0,n.jsx)(o.$,{onClick:F,disabled:null===g[c],children:"Submit Quiz"}):(0,n.jsxs)(o.$,{onClick:()=>{c<s.questions.length-1&&(d(c+1),E(null))},disabled:null===g[c],children:["Next ",(0,n.jsx)(N.A,{className:"ml-2 h-4 w-4"})]})]})]})}},30356:(e,t,s)=>{"use strict";s.d(t,{C:()=>c,z:()=>o});var n=s(95155),a=s(12115),l=s(75122),r=s(70154),i=s(59434);let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)(l.bL,{className:(0,i.cn)("grid gap-2",s),...a,ref:t})});o.displayName=l.bL.displayName;let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)(l.q7,{ref:t,className:(0,i.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...a,children:(0,n.jsx)(l.C1,{className:"flex items-center justify-center",children:(0,n.jsx)(r.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});c.displayName=l.q7.displayName},40384:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6874,23)),Promise.resolve().then(s.bind(s,81063)),Promise.resolve().then(s.bind(s,21111))},66695:(e,t,s)=>{"use strict";s.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>o,Zp:()=>r,aR:()=>i,wL:()=>x});var n=s(95155),a=s(12115),l=s(59434);let r=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-md",s),...a})});r.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...a})});i.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});o.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...a})});c.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",s),...a})});d.displayName="CardContent";let x=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...a})});x.displayName="CardFooter"},85057:(e,t,s)=>{"use strict";s.d(t,{J:()=>c});var n=s(95155),a=s(12115),l=s(40968),r=s(74466),i=s(59434);let o=(0,r.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)(l.b,{ref:t,className:(0,i.cn)(o(),s),...a})});c.displayName=l.b.displayName}},e=>{var t=t=>e(e.s=t);e.O(0,[992,644,172,328,240,145,218,444,441,684,358],()=>t(40384)),_N_E=e.O()}]);